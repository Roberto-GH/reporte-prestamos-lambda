name: aws
runtime: nodejs22.x
region: us-east-1
iam:
  role:
    statements:
      - Effect: "Allow"
        Action:
          - "dynamodb:Scan"          
        Resource: "arn:aws:dynamodb:${aws:region}:${aws:accountId}:table/${self:custom.dynamoTableName}"
      - Effect: "Allow"
        Action:
          - "ses:SendEmail"          
        Resource: "*"
environment:
  DYNAMODB_TABLE_NAME: ${self:custom.dynamoTableName}
  SENDER_EMAIL: ${self:custom.senderEmail}
  RECIPIENT_EMAILS: ${self:custom.recipientEmails}
